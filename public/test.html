<!DOCTYPE html>
<html>

<head></head>

<body>

</body>
<script type="text/javascript">
    const pall = function(){
			let flag = true
			const arr = [...arguments]
			console.log(arr)
			return new Promise((resolve, reject) => {
            let num = arr.length
            let resolvedCounter = 0
            arr.forEach((item)=>{
                Promise.resolve(item).then(function () {
                        resolvedCounter++
                        if (resolvedCounter == num) {
                            return resolve()
                        }
                    }, function (reason) {
                        return reject()
                    })
            })
            
			})
		}
		let p1 = new Promise((resolve)=>{
			setTimeout(()=>{resolve()},3000)
		})
		let p2 = new Promise((resolve)=>{
			setTimeout(()=>{resolve()},1000)
		})
		let p3 = new Promise((resolve)=>{
			setTimeout(()=>{resolve()},5000)
		})
		let p4 = new Promise((resolve)=>{
			resolve()
		})
        const time = new Date().getSeconds()
        console.log(time)
		pall(p1,p2,p3,p4).then(

            ()=>{
                let end = new Date().getSeconds()
                console.log('aaaa',end)
            }
            
        )
		
		



</script>
</html>